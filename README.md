# 币安合约账户监控工具

这是一个简单的Python程序，用于监控币安合约账户的状态，包括账户余额、持仓信息、未实现盈亏等。同时提供测试网环境下的交易功能。

## 功能特点

- 显示账户总览（钱包余额、未实现盈亏、总资产）
- 显示当前持仓详情（交易对、方向、数量、开仓价、当前价格、杠杆、未实现盈亏、收益率）
- 使用表格格式清晰展示数据
- 支持测试网交易功能：
  - 开多/空单（限价单）
  - 快速测试交易（XRPUSDT 市价单）
  - 修改杠杆倍数
  - 自动处理交易规则（最小数量、价格精度等）

## 安装步骤

1. 克隆或下载本项目
2. 安装依赖包：
   ```bash
   pip install -r requirements.txt
   ```

## 配置说明

1. 在币安创建API密钥（需要开通合约交易权限）
2. 创建配置文件：
   - 主网环境：`mainnet_config.json`
   - 测试网环境：`testnet_config.json`

   配置文件格式：
   ```json
   {
       "api_key": "你的API密钥",
       "api_secret": "你的API密钥密文"
   }
   ```

## 使用方法

### 命令行参数

```bash
# 运行测试网环境
python main.py test

# 运行主网环境
python main.py main

# 直接开始测试交易（测试网）
python main.py trade

# 只查看账户状态（主网）
python main.py status

# 修改杠杆倍数（测试网）
python main.py leverage BTCUSDT 20

# 启动交互式菜单
python main.py
```

### 交互式菜单选项

1. 运行测试网环境
2. 运行主网环境
3. 查看账户状态
4. 修改杠杆倍数
5. 退出程序
6. 显示帮助信息

### 测试网交易功能

1. 开多单（限价单）
2. 开空单（限价单）
3. 修改杠杆
4. 查看账户状态
5. 快速测试（XRPUSDT 多单）
6. 退出

## 注意事项

- 请妥善保管您的API密钥和配置文件
- API密钥建议只开启读取权限，避免产生安全风险
- 建议将配置文件添加到 `.gitignore` 文件中，避免意外提交到代码仓库
- 本程序仅供参考，交易风险请自行承担
- 测试网环境下的交易不会影响实际资金
- 建议先在测试网环境下熟悉操作后再使用主网

## 更新日志

### v1.1.0
- 添加测试网交易功能
- 支持市价单和限价单
- 自动处理交易规则和精度要求
- 优化错误处理和用户提示

### v1.0.0
- 初始版本
- 支持查看账户信息和持仓状态 